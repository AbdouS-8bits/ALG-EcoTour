// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  name  String?
  password String // Store hashed passwords in production
  role  String  @default("user") // "admin" or "user"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@map("users")
}

model AdminAuditLog {
  id    Int     @id @default(autoincrement())
  userId Int
  action String
  details String?
  createdAt DateTime @default(now())
  
  @@map("admin_audit_logs")
}

model EcoTour {
  id    Int     @id @default(autoincrement())
  title String
  description String?
  location String
  latitude Float?
  longitude Float?
  price Float
  maxParticipants Int
  photoURL String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@map("eco_tours")
}

model Booking {
  id    Int     @id @default(autoincrement())
  tourId Int
  guestName String
  guestEmail String
  guestPhone String
  participants Int
  status String @default("pending") // "pending", "confirmed", "cancelled"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@map("bookings")
}
